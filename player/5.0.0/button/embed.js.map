{"version":3,"sources":["webpack:////Users/aheimbuch/dev/podlove/ui/packages/utils/dom.js","webpack:////Users/aheimbuch/dev/podlove/ui/packages/utils/sandbox.js","webpack:////Users/aheimbuch/dev/podlove/ui/packages/button/actions/lifecycle.js","webpack:///./src/embed/config.js","webpack:///./src/embed/sandbox.js","webpack:///./src/embed/overlay.js","webpack:///./embed.js","webpack:////Users/aheimbuch/dev/podlove/ui/packages/utils/predicates.js","webpack:////Users/aheimbuch/dev/podlove/ui/packages/utils/helper.js","webpack:////Users/aheimbuch/dev/podlove/ui/packages/button/state/view.js","webpack:////Users/aheimbuch/dev/podlove/ui/packages/button/state/finish.js","webpack:////Users/aheimbuch/dev/podlove/ui/packages/button/actions/types.js","webpack:////Users/aheimbuch/dev/podlove/ui/packages/button/state/config.js","webpack:///./src/store/selectors.js","webpack:///./src/embed/embed.mustache","webpack:////Users/aheimbuch/dev/podlove/ui/packages/button/state/theme.js"],"names":["findNode","selector","head","document","querySelectorAll","appendNode","curry","node","child","appendChild","setStyles","tag","value","attributes","attr","Object","keys","map","attribute","join","attrs","el","forEach","property","style","removeStyles","removeProperty","getClasses","compose","filter","identity","className","split","setAttributes","classes","uniq","concat","indexOf","setAttribute","iframe","element","cb","MutationObserver","observe","childList","window","addEventListener","seamless","scrolling","frameborder","height","createElement","sandboxWindow","prop","sandboxDocument","inject","anchor","frame","setFrameSize","width","offsetWidth","content","sandbox","Promise","resolve","sdbxWindow","doc","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","open","write","close","onLoad","readyState","setTimeout","then","init","createAction","INIT","request","url","a","fetch","res","json","input","additional","config","Error","mergeDeepRight","entry","reference","propOr","BASE","buttonDom","embedButtonDom","version","VERSION","base","styles","STYLES","scripts","SCRIPTS","resizer","iframeResizerContentWindow","fullWidth","subscribeButton","iframeResizer","checkOrigin","log","sizeWidth","sizeHeight","maxHeight","innerHeight","overlayStyles","position","top","left","store","subscribe","state","getState","select","overlay","button","parseConfig","dispatch","overlayStyle","p1","p2","p","isUndefinedOrNull","x","undefined","isNil","createObject","specification","f","scope","selectors","context","reduce","result","key","startsWith","q","str","endsWith","stripl","slice","length","stripr","juxt","toUpper","tail","reducer","handleActions","SHOW_LIST","finish","list","SHOW_OVERLAY","HIDE_OVERLAY","SHOW_FINISH_CARD","INITIAL_STATE","icon","install","title","link","os","rss","type","_","payload","HIDE_LIST","HIDE_FINISH_CARD","size","color","format","headless","cover","configSlice","clients","slices","theme","view","selectColor","selectCover","selectFormat","selectSize","selectStyle","fontString","weight","family","font","themeSelectors","fonts","fontRegular","fontBold","fontCi","viewSelectors","finishSelectors","H","module","exports","T","Template","code","c","i","t","this","b","v","s","rs","d","pop","fl","partials","subs","render","apply","arguments","TOKENS","brand","brandDark","brandDarkest","brandLightest","shadeDark","shadeBase","contrast","alt","tokens","FONTS","ci","name","src","regular","bold","normalizeFont","path","extractFonts","getTokens","extractTokens","themeColors","themeFonts"],"mappings":"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","file":"embed.js","sourcesContent":["import { curry, compose, uniq, concat, join, filter, identity, head } from 'ramda'\nimport DOMPurify from 'dompurify'\n\nexport const findNode = selector =>\n  typeof selector === 'string' ? head(document.querySelectorAll(selector)) : selector\n\nexport const createNode = tag => document.createElement(tag)\nexport const appendNode = curry((node, child) => {\n  node.appendChild(child)\n\n  return child\n})\n\nexport const tag = curry((tag, value = '', attributes) => {\n  let attr = Object.keys(attributes || {})\n    .map(attribute => ` ${attribute}=\"${attributes[attribute]}\"`)\n    .join('')\n  return `<${tag}${attr}>${value}</${tag}>`\n})\n\nexport const setStyles = curry((attrs, el) => {\n  Object.keys(attrs).forEach(property => {\n    el.style[property] = attrs[property]\n  })\n\n  return el\n})\n\nexport const removeStyles = curry((attrs, el) => {\n  ;(attrs || []).forEach(attr => {\n    el.style.removeProperty(attr)\n  })\n})\n\nexport const getClasses = compose(\n  filter(identity),\n  el => el.className.split(' ')\n)\n\nexport const hasOverflow = el => el.scrollWidth > el.clientWidth\n\nexport const addClasses = curry((classes = [], el) => {\n  el.className = compose(\n    join(' '),\n    uniq,\n    concat(classes),\n    getClasses\n  )(el)\n\n  return el\n})\n\nexport const removeClasses = curry((classes = [], el) => {\n  el.className = compose(\n    join(' '),\n    filter(className => !~classes.indexOf(className)),\n    getClasses\n  )(el)\n\n  return el\n})\n\nexport const sanitize = input => {\n  if (!input || typeof window === 'undefined') {\n    return input\n  }\n\n  const purify = DOMPurify(window)\n\n  // Adds target=\"_blank\" to parsed links\n  purify.addHook('afterSanitizeElements', node => {\n    if (node.tagName === 'A') {\n      node.setAttribute('target', '_blank')\n    }\n\n    return node\n  })\n\n  return purify.sanitize(input, {\n    ALLOWED_TAGS: ['b', 'i', 'em', 'strong', 'a', 'br', 'p', 'ul', 'li', 'ol', 'br'],\n    ALLOWED_ATTR: ['href', 'target']\n  })\n}\n\nexport const setAttributes = curry((attrs, el) => {\n  Object.keys(attrs).forEach(property => {\n    el.setAttribute(property, attrs[property])\n  })\n\n  return el\n})\n\nexport const resizeObserver = curry((element, cb) => {\n  const observer = new MutationObserver(cb)\n\n  observer.observe(element, { childList: true })\n  window.addEventListener('resize', cb)\n})\n","import { compose, curry, prop } from 'ramda'\nimport { createNode, appendNode, setAttributes, setStyles } from './dom'\n\nconst iframe = compose(\n  setAttributes({\n    'min-width': '100%',\n    seamless: '',\n    scrolling: 'no',\n    frameborder: '0'\n  }),\n  setStyles({\n    height: 'auto'\n  }),\n  createNode\n)\n\nconst createFrame = () => new Promise(resolve => resolve(iframe('iframe')))\n\nexport const sandboxWindow = prop('contentWindow')\nexport const sandboxDocument = compose(\n  prop('document'),\n  sandboxWindow\n)\n\nexport const resize = curry((anchor, frame) => {\n  const setFrameSize = () => setAttributes({ width: anchor.offsetWidth }, frame)\n\n  setFrameSize()\n\n  // Reset the width on window load\n  window.addEventListener('load', setFrameSize)\n\n  // Reset the width on viewport resize\n  window.addEventListener('resize', setFrameSize)\n\n  return frame\n})\n\nconst inject = curry(\n  (content, sandbox) =>\n    new Promise(resolve => {\n      const sdbxWindow = sandboxWindow(sandbox)\n      const doc = sandboxDocument(sandbox)\n\n      // transfer global window functions to sandbox\n      if (window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) {\n        sdbxWindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ =\n          window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      }\n\n      const onLoad = () => {\n        if (doc.readyState === 'complete') {\n          return resolve(sandbox)\n        }\n\n        return setTimeout(onLoad, 150)\n      }\n\n      doc.open()\n      doc.write('<!DOCTYPE html>')\n      doc.write('<html>')\n      doc.write('<head><meta charset=\"utf-8\" /></head>')\n      doc.write('<body>')\n      doc.write(content)\n      doc.write('</body>')\n      doc.close()\n\n      onLoad()\n    })\n)\n\nexport const sandbox = curry((anchor, content) =>\n  createFrame()\n    .then(appendNode(anchor))\n    .then(inject(content))\n)\n","import { createAction } from 'redux-actions'\nimport { INIT } from './types'\n\nexport const init = createAction(INIT)\n","/* eslint-disable no-console */\nimport { mergeDeepRight } from 'ramda'\n\nconst request = async url => fetch(url).then(res => res.json())\n\nexport default async (input = {}, additional = {}) => {\n  let config\n\n  try {\n    config = typeof input === 'string' ? await request(input) : input\n  } catch (err) {\n    throw new Error(`Couldn't parse configuration \"${input}\"`)\n  }\n\n  return mergeDeepRight(config, additional)\n}\n","/* global BASE, STYLES, SCRIPTS, MODE, VERSION */\nimport { propOr } from 'ramda'\nimport { sandbox } from '@podlove/utils/sandbox'\nimport { iframeResizer } from 'iframe-resizer'\n\n// eslint-disable-next-line\nimport iframeResizerContentWindow from 'raw-loader!iframe-resizer/js/iframeResizer.contentWindow.min.js'\nimport embedButtonDom from './embed.mustache'\n\nexport default async (config, entry) => {\n  const reference = MODE === 'cdn' ? BASE : propOr(BASE, 'base', config)\n\n  const buttonDom = embedButtonDom({\n    version: VERSION,\n    base: reference,\n    styles: STYLES,\n    scripts: SCRIPTS,\n    resizer: iframeResizerContentWindow\n  })\n\n  const subscribeButton = await sandbox(entry, buttonDom, { fullWidth: false })\n\n  iframeResizer(\n    {\n      checkOrigin: false,\n      log: false,\n      sizeWidth: true,\n      sizeHeight: true,\n      maxHeight: window.innerHeight - 20\n    },\n    subscribeButton\n  )\n\n  return subscribeButton\n}\n","import { setStyles, removeStyles } from '@podlove/utils/dom'\nimport * as select from 'store/selectors'\n\nconst overlayStyles = {\n  position: 'fixed',\n  width: '100%',\n  height: '100%',\n  top: 0,\n  left: 0\n}\n\nexport default (store, entry) => {\n  store.subscribe(() => {\n    const state = store.getState()\n    if (select.view.overlay(state)) {\n      setStyles(overlayStyles, entry)\n    } else {\n      removeStyles(Object.keys(overlayStyles), entry)\n    }\n  })\n}\n","import { prop } from 'ramda'\nimport { findNode } from '@podlove/utils/dom'\nimport { sandboxWindow } from '@podlove/utils/sandbox'\n\nimport { init } from '@podlove/button-actions/lifecycle'\nimport parseConfig from './src/embed/config'\nimport sandbox from './src/embed/sandbox'\nimport overlayStyle from './src/embed/overlay'\n\nasync function embed(selector, button, additional) {\n  const config = await parseConfig(button, additional)\n  const entry = findNode(selector)\n  const subscribeButton = await sandbox(config, entry)\n\n  const store = prop('PSB_STORE', sandboxWindow(subscribeButton))\n\n  store.dispatch(init(config))\n  overlayStyle(store, entry)\n\n  return store\n}\n\nif (typeof window['podloveSubscribeButton'] === 'undefined') {\n  window['podloveSubscribeButton'] = embed\n}\n","import { isNil } from 'ramda'\n\nexport const or = (p1, p2) => x => p1(x) || p2(x)\nexport const and = (p1, p2) => x => p1(x) && p2(x)\nexport const not = p => x => !p(x)\nexport const isUndefined = x => x === undefined\n\nexport const isUndefinedOrNull = or(isUndefined, isNil)\nexport const isDefinedAndNotNull = not(isUndefinedOrNull)\n","import { curry, map, compose, join, toUpper, juxt, head, tail, identity } from 'ramda'\nimport { isUndefinedOrNull } from './predicates'\n\n/**\n * Collection of functional helpers\n */\n\nexport const inAnimationFrame = func => (...args) =>\n  window.requestAnimationFrame(() => func.apply(null, args))\n\nexport const asyncAnimation = func => (...args) =>\n  new Promise(resolve => {\n    window.requestAnimationFrame(resolve(func.apply(null, args)))\n  })\n\nexport const callWith = (...args) => func => func.apply(null, args)\n\n// Math helpers\nexport const toInt = (input = 0) => (isNaN(parseInt(input, 10)) ? 0 : parseInt(input, 10))\nexport const toFloat = (input = 0) => (isNaN(parseFloat(input)) ? 0 : parseFloat(input))\n\n// Functional Helper\nexport const fallbackTo = fallback => value => (isUndefinedOrNull(value) ? fallback : value)\nexport const createObject = curry((specification, value) => map(f => f(value), specification))\nexport const scope = curry((selectors = {}, context = identity) =>\n  Object.keys(selectors).reduce(\n    (result, key) => ({\n      ...result,\n      [key]: compose(\n        selectors[key],\n        context\n      )\n    }),\n    {}\n  )\n)\nexport const startsWith = curry((q, str) => str.startsWith(q))\nexport const endsWith = curry((q, str) => str.endsWith(q))\nexport const stripl = curry((q, str) => (startsWith(q, str) ? str.slice(q.length) : str))\nexport const stripr = curry((q, str) =>\n  endsWith(q, str) ? str.slice(0, str.length - q.length) : str\n)\nexport const strip = curry((q, str) => stripl(q, stripr(q, str)))\nexport const capitalize = compose(\n  join(''),\n  juxt([\n    compose(\n      toUpper,\n      head\n    ),\n    tail\n  ])\n)\n","import { prop } from 'ramda'\nimport { handleActions } from 'redux-actions'\n\nimport {\n  SHOW_OVERLAY,\n  HIDE_OVERLAY,\n  SHOW_LIST,\n  SHOW_FINISH_CARD\n} from '@podlove/button-actions/types'\n\nexport const INITIAL_STATE = {\n  overlay: false,\n  finish: false,\n  list: true\n}\n\nexport const reducer = handleActions(\n  {\n    [SHOW_LIST]: state => ({ ...state, finish: false, list: true }),\n    [SHOW_OVERLAY]: state => ({ ...state, overlay: true }),\n    [HIDE_OVERLAY]: state => ({ ...state, overlay: false, finish: false, list: true }),\n    [SHOW_FINISH_CARD]: state => ({ ...state, list: false, finish: true })\n  },\n  INITIAL_STATE\n)\n\nexport const selectors = {\n  overlay: prop('overlay'),\n  finish: prop('finish'),\n  list: prop('list')\n}\n","import { prop } from 'ramda'\nimport { handleActions } from 'redux-actions'\n\nimport { HIDE_OVERLAY, SHOW_FINISH_CARD } from '@podlove/button-actions/types'\n\nexport const INITIAL_STATE = {\n  icon: null,\n  install: null,\n  title: null,\n  link: null,\n  os: null,\n  rss: null,\n  type: null\n}\n\nexport const reducer = handleActions(\n  {\n    [SHOW_FINISH_CARD]: (_, { payload }) => payload,\n    [HIDE_OVERLAY]: () => INITIAL_STATE\n  },\n  INITIAL_STATE\n)\n\nexport const selectors = {\n  overlay: prop('install'),\n  finish: prop('title'),\n  icon: prop('icon'),\n  link: prop('link'),\n  os: prop('os'),\n  rss: prop('rss'),\n  type: prop('type'),\n  install: prop('install')\n}\n","export const INIT = 'BUTTON_INIT'\n\nexport const SHOW_LIST = 'BUTTON_SHOW_LIST'\nexport const HIDE_LIST = 'BUTTON_HIDE_LIST'\n\nexport const SHOW_OVERLAY = 'BUTTON_SHOW_OVERLAY'\nexport const HIDE_OVERLAY = 'BUTTON_HIDE_OVERLAY'\n\nexport const SHOW_FINISH_CARD = 'BUTTON_SHOW_FINISH_CARD'\nexport const HIDE_FINISH_CARD = 'BUTTON_HIDE_FINISH_CARD'\n","import { handleActions } from 'redux-actions'\nimport { prop } from 'ramda'\nimport { INIT } from '@podlove/button-actions/types'\n\nexport const INIT_STATE = {\n  size: 'big',\n  color: '#c90bd6',\n  format: 'cover',\n  style: 'filled',\n  headless: true,\n  cover: null\n}\n\nexport const reducer = handleActions(\n  { [INIT]: (state, { payload }) => ({ ...state, ...payload }) },\n  INIT_STATE\n)\n\nexport const color = prop('color')\nexport const cover = prop('cover')\nexport const format = prop('format')\nexport const size = prop('size')\nexport const style = prop('style')\nexport const headless = prop('headless')\n","import * as config from '@podlove/button-state/config'\nimport { selectors as viewSelectors } from '@podlove/button-state/view'\nimport { selectors as themeSelectors } from '@podlove/button-state/theme'\nimport { selectors as finishSelectors } from '@podlove/button-state/finish'\nimport { propOr, compose } from 'ramda'\nimport { scope } from '@podlove/utils/helper'\n\nexport const configSlice = propOr({}, 'config')\nexport const metadataSlice = propOr({}, 'metadata')\nexport const viewSlice = propOr({}, 'view')\nexport const clients = propOr([], 'clients')\n\nexport const slices = {\n  config: propOr({}, 'config'),\n  theme: propOr({}, 'theme'),\n  view: propOr({}, 'view'),\n  finish: propOr({}, 'finish')\n}\n\nexport const selectColor = compose(\n  config.color,\n  configSlice\n)\nexport const selectCover = compose(\n  config.cover,\n  configSlice\n)\nexport const selectFormat = compose(\n  config.format,\n  configSlice\n)\nexport const selectSize = compose(\n  config.size,\n  configSlice\n)\nexport const selectStyle = compose(\n  config.style,\n  configSlice\n)\n\nexport const headless = compose(\n  config.headless,\n  configSlice\n)\n\nconst fontString = ({ weight = 300, family = [] } = {}) => ({\n  'font-family': family.map(font => `\"${font}\"`).join(', '),\n  'font-weight': weight\n})\n\nexport const theme = {\n  ...scope(themeSelectors, slices.theme),\n  fonts: compose(\n    state => [\n      themeSelectors.fontRegular(state),\n      themeSelectors.fontBold(state),\n      themeSelectors.fontCi(state)\n    ],\n    slices.theme\n  ),\n  fontRegular: compose(\n    fontString,\n    themeSelectors.fontRegular,\n    slices.theme\n  ),\n  fontBold: compose(\n    fontString,\n    themeSelectors.fontBold,\n    slices.theme\n  ),\n  fontCi: compose(\n    fontString,\n    themeSelectors.fontCi,\n    slices.theme\n  )\n}\n\nexport const view = scope(viewSelectors, slices.view)\n\nexport const finish = scope(finishSelectors, slices.finish)\n","var H = require(\"hogan.js\");\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<script type=\\\"text/javascript\\\">window.resourceBaseUrl = '\");t.b(t.v(t.f(\"base\",c,p,0)));t.b(\"';</script><div id=\\\"subscribe-button\\\"><subscribe-button></subscribe-button></div> \");if(t.s(t.f(\"styles\",c,p,1),c,p,0,160,214,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\" <link rel=\\\"stylesheet\\\" href=\\\"\");t.b(t.v(t.f(\"base\",c,p,0)));t.b(t.v(t.d(\".\",c,p,0)));t.b(\".css\\\"> \");});c.pop();}t.b(\" \");if(t.s(t.f(\"scripts\",c,p,1),c,p,0,238,307,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\" <script type=\\\"text/javascript\\\" src=\\\"\");t.b(t.v(t.f(\"base\",c,p,0)));t.b(t.v(t.d(\".\",c,p,0)));t.b(\".js\\\"></script> \");});c.pop();}t.b(\" <script>window.iFrameResizer = {\");t.b(\"\\n\" + i);t.b(\"    widthCalculationMethod: function () {\");t.b(\"\\n\" + i);t.b(\"      if (document.getElementById('breakout')) {\");t.b(\"\\n\" + i);t.b(\"        return window.parent.innerWidth\");t.b(\"\\n\" + i);t.b(\"      }\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"      return document.getElementById('subscribe-button').offsetWidth\");t.b(\"\\n\" + i);t.b(\"    },\");t.b(\"\\n\" + i);t.b(\"    heightCalculationMethod: function () {\");t.b(\"\\n\" + i);t.b(\"      if (document.getElementById('breakout')) {\");t.b(\"\\n\" + i);t.b(\"        return window.parent.innerHeight\");t.b(\"\\n\" + i);t.b(\"      }\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"      return document.getElementById('subscribe-button').offsetHeight\");t.b(\"\\n\" + i);t.b(\"    }\");t.b(\"\\n\" + i);t.b(\"  } \");t.b(t.t(t.f(\"resizer\",c,p,0)));t.b(\"</script><style>#subscribe-button {\");t.b(\"\\n\" + i);t.b(\"    display: inline-block;\");t.b(\"\\n\" + i);t.b(\"  }</style>\");return t.fl(); },partials: {}, subs: {  }}, \"<script type=\\\"text/javascript\\\">window.resourceBaseUrl = '{{ base }}';</script><div id=\\\"subscribe-button\\\"><subscribe-button></subscribe-button></div> {{#styles}} <link rel=\\\"stylesheet\\\" href=\\\"{{ base }}{{ . }}.css\\\"> {{/styles}} {{#scripts}} <script type=\\\"text/javascript\\\" src=\\\"{{ base }}{{ . }}.js\\\"></script> {{/scripts}} <script>window.iFrameResizer = {\\n    widthCalculationMethod: function () {\\n      if (document.getElementById('breakout')) {\\n        return window.parent.innerWidth\\n      }\\n\\n      return document.getElementById('subscribe-button').offsetWidth\\n    },\\n    heightCalculationMethod: function () {\\n      if (document.getElementById('breakout')) {\\n        return window.parent.innerHeight\\n      }\\n\\n      return document.getElementById('subscribe-button').offsetHeight\\n    }\\n  } {{{ resizer }}}</script><style>#subscribe-button {\\n    display: inline-block;\\n  }</style>\", H);return T.render.apply(T, arguments); };","import { prop, compose, propOr, path } from 'ramda'\nimport { handleActions } from 'redux-actions'\nimport { createObject } from '@podlove/utils/helper'\nimport { INIT } from '@podlove/button-actions/types'\n\nconst theme = propOr({}, 'theme')\n\nconst TOKENS = {\n  brand: '#E64415',\n  brandDark: '#235973',\n  brandDarkest: '#1A3A4A',\n  brandLightest: '#E9F1F5',\n  shadeDark: '#807E7C',\n  shadeBase: '#807E7C',\n  contrast: '#000',\n  alt: '#fff'\n}\n\nexport const tokens = {\n  brand: propOr(TOKENS.brand, 'brand'),\n  brandDark: propOr(TOKENS.brandDark, 'brandDark'),\n  brandDarkest: propOr(TOKENS.brandDarkest, 'brandDarkest'),\n  brandLightest: propOr(TOKENS.brandLightest, 'brandLightest'),\n  shadeDark: propOr(TOKENS.shadeDark, 'shadeDark'),\n  shadeBase: propOr(TOKENS.shadeBase, 'shadeBase'),\n  contrast: propOr(TOKENS.contrast, 'contrast'),\n  alt: propOr(TOKENS.alt, 'alt')\n}\n\nexport const FONTS = {\n  ci: {\n    name: 'ci',\n    family: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      'Segoe UI',\n      'Roboto',\n      'Helvetica',\n      'Arial',\n      'sans-serif',\n      'Apple Color Emoji',\n      'Segoe UI Emoji\", \"Segoe UI Symbol'\n    ],\n    src: [],\n    weight: 800\n  },\n  regular: {\n    name: 'regular',\n    family: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      'Segoe UI',\n      'Roboto',\n      'Helvetica',\n      'Arial',\n      'sans-serif',\n      'Apple Color Emoji',\n      'Segoe UI Emoji\", \"Segoe UI Symbol'\n    ],\n    src: [],\n    weight: 300\n  },\n  bold: {\n    name: 'bold',\n    family: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      'Segoe UI',\n      'Roboto',\n      'Helvetica',\n      'Arial',\n      'sans-serif',\n      'Apple Color Emoji',\n      'Segoe UI Emoji\", \"Segoe UI Symbol'\n    ],\n    src: [],\n    weight: 700\n  }\n}\n\nconst normalizeFont = type =>\n  createObject({\n    family: propOr(path([type, 'family'], FONTS), 'family'),\n    weight: propOr(path([type, 'weight'], FONTS), 'weight'),\n    name: propOr(path([type, 'name'], FONTS), 'name'),\n    src: propOr([], 'src')\n  })\n\nconst extractFonts = createObject({\n  regular: compose(\n    normalizeFont('regular'),\n    propOr(FONTS.regular, 'regular'),\n    propOr({}, 'fonts'),\n    theme\n  ),\n  bold: compose(\n    normalizeFont('bold'),\n    propOr(FONTS.bold, 'bold'),\n    propOr({}, 'fonts'),\n    theme\n  ),\n  ci: compose(\n    normalizeFont('ci'),\n    propOr(FONTS.ci, 'ci'),\n    propOr({}, 'fonts'),\n    theme\n  )\n})\n\nconst getTokens = propOr({}, 'tokens')\n\nconst extractTokens = createObject({\n  brand: compose(\n    tokens.brand,\n    getTokens,\n    theme\n  ),\n  brandDark: compose(\n    tokens.brandDark,\n    getTokens,\n    theme\n  ),\n  brandDarkest: compose(\n    tokens.brandDarkest,\n    getTokens,\n    theme\n  ),\n  brandLightest: compose(\n    tokens.brandLightest,\n    getTokens,\n    theme\n  ),\n  shadeDark: compose(\n    tokens.shadeDark,\n    getTokens,\n    theme\n  ),\n  shadeBase: compose(\n    tokens.shadeBase,\n    getTokens,\n    theme\n  ),\n  contrast: compose(\n    tokens.contrast,\n    getTokens,\n    theme\n  ),\n  alt: compose(\n    tokens.alt,\n    getTokens,\n    theme\n  )\n})\n\nexport const INITIAL_STATE = {\n  tokens: TOKENS,\n  fonts: FONTS\n}\n\nexport const reducer = handleActions(\n  {\n    [INIT]: (_, { payload }) => ({\n      tokens: extractTokens(payload),\n      fonts: extractFonts(payload)\n    })\n  },\n  INITIAL_STATE\n)\n\nconst themeColors = propOr({}, 'tokens')\nconst themeFonts = propOr({}, 'fonts')\n\nexport const selectors = {\n  brand: compose(\n    prop('brand'),\n    themeColors\n  ),\n  brandDark: compose(\n    prop('brandDark'),\n    themeColors\n  ),\n  brandDarkest: compose(\n    prop('brandDarkest'),\n    themeColors\n  ),\n  brandLightest: compose(\n    prop('brandLightest'),\n    themeColors\n  ),\n  shadeDark: compose(\n    prop('shadeDark'),\n    themeColors\n  ),\n  shadeBase: compose(\n    prop('shadeBase'),\n    themeColors\n  ),\n  contrast: compose(\n    prop('contrast'),\n    themeColors\n  ),\n  alt: compose(\n    prop('alt'),\n    themeColors\n  ),\n  fontRegular: compose(\n    prop('regular'),\n    themeFonts\n  ),\n  fontBold: compose(\n    prop('bold'),\n    themeFonts\n  ),\n  fontCi: compose(\n    prop('ci'),\n    themeFonts\n  )\n}\n"],"sourceRoot":""}